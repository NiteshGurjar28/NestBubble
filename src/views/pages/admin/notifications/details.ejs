
<body>
    <div class="layout-wrapper layout-content-navbar">
        <div class="layout-container">
            <%- include('../../../partials/sideBar') %>
            <div class="layout-page">
                <%- include('../../../partials/header') %>
                <div class="content-wrapper">
                    <div class="admin-container">
                        <div class="admin-header">
                             <h2>Notification Details</h2>
                        </div>

                        <div class="row g-4 mb-4">
                            <div class="col-md-12 col-lg-12">
                                    <div class="card">
                                        <div class="card-body">
                                            <div class="notification-detail">
                                                <div class="d-flex justify-content-between align-items-start mb-4">
                                                    <div>
                                                    <h4 class="mb-1"><%= notification.title %></h4>
                                                        <span class="text-muted">
                                                            <td><%= formatDate(notification.createdAt) %></td>
                                                        </span>
                                                    </div>
                                                </div>
                                                
                                                <div class="mb-4">
                                                    <p class="mb-2"><strong>Message:</strong></p>
                                                    <div class="p-3 bg-light rounded">
                                                    <%= notification.message %>
                                                    </div>
                                                </div>
                                                
                                                <% if (notification.sender) { %>
                                                    <div class="mb-4">
                                                    <p class="mb-2"><strong>Sender:</strong></p>
                                                    <div class="d-flex align-items-center">
                                                        <% if (notification.sender.profileImage) { %>
                                                        <img src="<%= notification.sender.profileImage %>" 
                                                            class="rounded-circle me-2" 
                                                            width="40" height="40" 
                                                            alt="Sender image">
                                                        <% } %>
                                                        <span>
                                                            <%= notification.sender.firstName %> <%= notification.sender.lastName %>
                                                        </span>
                                                    </div>
                                                    </div>
                                                <% } %>
                                            
                                                
                                                <div class="d-flex justify-content-end">
                                                    <% 
                                                        const actionLinks = {
                                                        'property': `/property/${notification.actionId}/show`,
                                                        'property_booking': `/property/booking/${notification.actionId}/show`,
                                                        'event': `/event/${notification.actionId}/show`,
                                                        'event_booking': `/event/${notification.actionId}/member`,
                                                        'service': `/concierge-service/${notification.actionId}/show`,
                                                        'service_booking': `/concierge-service/${notification.actionId}/member`,
                                                        'amenity': '/amenity/request'
                                                        };
                                                        const link = actionLinks[notification.notificationType];
                                                    %>
                                                    <% if (link) { %>
                                                        <a href="<%= link %>" class="btn btn-primary">Go to Related Page</a>
                                                    <% } %>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                            </div>
                        </div>
                    </div>

                  <%- include('../../../partials/footer') %>
                  <div class="content-backdrop fade"></div>
                </div>
            </div>
        </div>
        <div class="layout-overlay layout-menu-toggle"></div>
    </div> 

</body>

